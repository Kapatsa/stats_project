---
title: "Часть 1. Первичный анализ данных"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Команда

1. Капаца Дейвид

2. Анна Компанченко

3. Григорий Макаров

## Введение

Данный отчёт представляет из себя результат работы по первичному анализу данных датасета `GrowthDJ`, который доступен по следующей  [ссылке](https://vincentarelbundock.github.io/Rdatasets/articles/data.html).

Сразу же запишем этот датасет в датафрейм `df` и покажем начало таблицы:
```{r}
df <- read.csv("GrowthDJ.csv")
head(df)
```

## Кoрoтко о данных

Это данные от 1992 года, в качестве индивидов выступают государства (121), в качестве признаков — различные социоэкономические показатели (10). 

1. `oil`
factor. Is the country an oil-producing country?

2. `inter`
factor. Does the country have better quality data?

3. `oecd`
factor. Is the country a member of the OECD?

4. `gdp60`
Per capita GDP in 1960.

5. `gdp85`
Per capita GDP in 1985.

6. `gdpgrowth`
Average growth rate of per capita GDP from 1960 to 1985 (in percent).

7. `popgrowth`
Average growth rate of working-age population 1960 to 1985 (in percent).

8. `invest`
Average ratio of investment (including Government Investment) to GDP from 1960 to 1985 (in percent).

9. `school`
Average fraction of working-age population enrolled in secondary school from 1960 to 1985 (in percent).

10. `literacy60`
Fraction of the population over 15 years old that is able to read and write in 1960 (in percent).

Так как датасет состоит во многом из экономических данных, наверняка появится желание прологарифмировать данные, но это потом.

## Описательная статистика

```{r}
summary(df)
```

### Виды признаков

Таблица внизу показывает, какую моду имеют наши количественные признаки. Отсюда можно сделать вывод о том, являются они непрерывными или нет.

```{r}
library(dplyr)
summarize(df, across(gdp60:literacy60, function(x) max(table(x))))
```

1. `oil` качественный

2. `inter` качественный

3. `oecd` качественный

4. `gdp60` количественный почти непрерывный

5. `gdp85` количественный почти непрерывный

6. `gdpgrowth` количественный дискретный (дело в точности измерения)

7. `popgrowth` количественный дискретный

8. `invest` количественный дискретный

9. `school` количественный дискретный

10. `literacy60` количественный дискретный


## Matrix plot

```{r}
panel.hist <- function(x, ...)
{
    usr <- par("usr"); on.exit(par(usr))
    par(usr = c(usr[1:2], 0, 1.5) )
    h <- hist(x, plot = FALSE)
    breaks <- h$breaks; nB <- length(breaks)
    y <- h$counts; y <- y/max(y)
    rect(breaks[-nB], 0, breaks[-1], y, col = "orange", ...)
}

pairs(~ gdp60 + gdp85 + gdpgrowth + invest + school, data = df, diag.panel = panel.hist)
```

Хорошо видно по гистограммам, что для дальнейшего анализа надо логарифмировать показатели ВВП. Сделаем именно это:

```{r}
pairs(~ log(gdp60) + log(gdp85) + gdpgrowth + log(invest) + school, data = df, diag.panel = panel.hist)
```

Стало лучше.
